import e,{Component as t}from"react";import{Button as n}from"primereact/button";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e){if(Array.isArray(e))return e}function y(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return f(e)||y(e,t)||v(e,t)||b()}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i){var l=c(i);if("string"===l||"number"===l)r.push(i);else if("object"===l){var a=Array.isArray(i)?i:Object.entries(i).map((function(e){var t=d(e,2);return t[1]?t[0]:null}));r=a.length?r.concat(a.filter((function(e){return!!e}))):r}}}return r.join(" ")}}function g(e){var t=w();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var O,j,k,C=function(e){u(r,t);var n=g(r);function r(){return o(this,r),n.apply(this,arguments)}return l(r,[{key:"render",value:function(){return this.props.children}}]),r}(),D=function(e){u(r,t);var n=g(r);function r(){return o(this,r),n.apply(this,arguments)}return l(r,[{key:"render",value:function(){return this.props.children}}]),r}(),S=function(i){u(c,t);var a=g(c);function c(e){var t;return o(this,c),(t=a.call(this,e)).props.onToggle||(t.state={active:!1}),t.open=t.open.bind(r(t)),t.close=t.close.bind(r(t)),t.onDisplayKeyDown=t.onDisplayKeyDown.bind(r(t)),t}return l(c,[{key:"open",value:function(e){this.props.disabled||(this.props.onOpen&&this.props.onOpen(e),this.props.onToggle?this.props.onToggle({originalEvent:e,value:!0}):this.setState({active:!0}))}},{key:"close",value:function(e){this.props.onClose&&this.props.onClose(e),this.props.onToggle?this.props.onToggle({originalEvent:e,value:!1}):this.setState({active:!1})}},{key:"onDisplayKeyDown",value:function(e){"Enter"===e.key&&(this.open(e),e.preventDefault())}},{key:"isActive",value:function(){return this.props.onToggle?this.props.active:this.state.active}},{key:"renderDisplay",value:function(t){var n=m("p-inplace-display",{"p-disabled":this.props.disabled});return e.createElement("div",{className:n,onClick:this.open,onKeyDown:this.onDisplayKeyDown,tabIndex:this.props.tabIndex,"aria-label":this.props.ariaLabel},t)}},{key:"renderCloseButton",value:function(){return this.props.closable?e.createElement(n,{type:"button",className:"p-inplace-content-close",icon:"pi pi-times",onClick:this.close}):null}},{key:"renderContent",value:function(t){var n=this.renderCloseButton();return e.createElement("div",{className:"p-inplace-content"},t,n)}},{key:"renderChildren",value:function(){var t=this,n=this.isActive();return e.Children.map(this.props.children,(function(e,r){return n&&e.type===D?t.renderContent(e):n||e.type!==C?void 0:t.renderDisplay(e)}))}},{key:"render",value:function(){var t=m("p-inplace p-component",{"p-inplace-closable":this.props.closable},this.props.className);return e.createElement("div",{className:t},this.renderChildren())}}]),c}();k={style:null,className:null,active:!1,closable:!1,disabled:!1,tabIndex:0,ariaLabel:null,onOpen:null,onClose:null,onToggle:null},(j="defaultProps")in(O=S)?Object.defineProperty(O,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[j]=k;export{S as Inplace,D as InplaceContent,C as InplaceDisplay};
